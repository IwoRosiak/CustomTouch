<?xml version="1.0" encoding="utf-8" ?>
<Patch>
  <Operation Class="PatchOperationSequence">
    <operations>
      <li Class="PatchOperationAdd">
        <xpath>*/ThingDef[@ParentName="BaseHumanMakeableGun"]</xpath>
        <value>
          <comps>
            <li Class="GunNut.GN_AttachmentCompProperties">
              <jobDefInstall>EquipAttachment</jobDefInstall>
              <jobDefRemove>RemoveAttachment</jobDefRemove>
              <slots>
                <li>
                  <weaponPart>scope</weaponPart>
                  <isActive>true</isActive>
                  <defaultPosition>(0.1,0)</defaultPosition>
                </li>
                <li>
                  <weaponPart>magazine</weaponPart>
                  <isActive>true</isActive>
                </li>
                <li>
                  <weaponPart>stock</weaponPart>
                  <isActive>true</isActive>
                </li>
              </slots>
            </li>
          </comps>
        </value>
      </li>
    </operations>
  </Operation>

  <Operation Class="PatchOperationAttributeSet">
    <xpath>/Defs/StatDef[@Name="AccuracyBase"]/parts/li</xpath>
    <attribute>Class</attribute>
    <value>GunNut.GN_StatPart_Quality</value>
  </Operation>

  <Operation Class="PatchOperationAdd">
    <xpath>/Defs/StatDef[defName="RangedWeapon_Cooldown"]</xpath>
    <value>
      <parts>
        <li Class="GunNut.GN_StatPart_Attachment">
        </li>
      </parts>
    </value>
  </Operation>
<!--
  <Operation Class="PatchOperationSequence">
    <operations>
      <li Class="PatchOperationAdd">
        <xpath>*/ThingDef[@ParentName="BaseHumanMakeableGun"]/comps/li[@Class="GunNut.GN_AttachmentCompProperties"]/slots</xpath>
        <value>

        </value>
      </li>
    </operations>
  </Operation>

      <li Class="PatchOperationAdd">
        <xpath>/Defs/ThingDef[defName="Gun_Revolver"]/comps/li[@Class="GunNut.GN_AttachmentCompProperties"]/slots</xpath>
        <value>
          <li>
            <weaponPart>scope</weaponPart>
          </li>
          <li>
            <weaponPart>magazine</weaponPart>
          </li>
          <li>
            <weaponPart>stock</weaponPart>
          </li>
        </value>
      </li>

      <li Class="PatchOperationAdd">
        <xpath>/Defs/ThingDef[defName="Gun_BoltActionRifle"]/comps/li[@Class="GunNut.GN_AttachmentCompProperties"]/slots</xpath>
        <value>
          <li>
            <weaponPart>scope</weaponPart>
          </li>
          <li>
            <weaponPart>magazine</weaponPart>
          </li>
          <li>
            <weaponPart>stock</weaponPart>
          </li>
        </value>
      </li>

      <li Class="PatchOperationAdd">
        <xpath>/Defs/ThingDef[defName="Gun_MachinePistol"]/comps/li[@Class="GunNut.GN_AttachmentCompProperties"]/slots</xpath>
        <value>
          <li>
            <weaponPart>scope</weaponPart>
          </li>
          <li>
            <weaponPart>magazine</weaponPart>
          </li>
          <li>
            <weaponPart>stock</weaponPart>
          </li>
        </value>
      </li>

      <li Class="PatchOperationAdd">
        <xpath>/Defs/ThingDef[defName="Gun_PumpShotgun"]/comps/li[@Class="GunNut.GN_AttachmentCompProperties"]/slots</xpath>
        <value>
          <li>
            <weaponPart>scope</weaponPart>
          </li>
          <li>
            <weaponPart>magazine</weaponPart>
          </li>
          <li>
            <weaponPart>stock</weaponPart>
          </li>
        </value>
      </li>

      <li Class="PatchOperationAdd">
        <xpath>/Defs/ThingDef[defName="Gun_ChainShotgun"]/comps/li[@Class="GunNut.GN_AttachmentCompProperties"]/slots</xpath>
        <value>
          <li>
            <weaponPart>scope</weaponPart>
          </li>
          <li>
            <weaponPart>magazine</weaponPart>
          </li>
          <li>
            <weaponPart>stock</weaponPart>
          </li>
        </value>
      </li>

      <li Class="PatchOperationAdd">
        <xpath>/Defs/ThingDef[defName="Gun_HeavySMG"]/comps/li[@Class="GunNut.GN_AttachmentCompProperties"]/slots</xpath>
        <value>
          <li>
            <weaponPart>scope</weaponPart>
          </li>
          <li>
            <weaponPart>magazine</weaponPart>
          </li>
          <li>
            <weaponPart>stock</weaponPart>
          </li>
        </value>
      </li>

      <li Class="PatchOperationAdd">
        <xpath>/Defs/ThingDef[defName="Gun_LMG"]/comps/li[@Class="GunNut.GN_AttachmentCompProperties"]/slots</xpath>
        <value>
          <li>
            <weaponPart>scope</weaponPart>
          </li>
          <li>
            <weaponPart>magazine</weaponPart>
          </li>
          <li>
            <weaponPart>stock</weaponPart>
          </li>
        </value>
      </li>

      <li Class="PatchOperationAdd">
        <xpath>/Defs/ThingDef[defName="Gun_AssaultRifle"]/comps/li[@Class="GunNut.GN_AttachmentCompProperties"]/slots</xpath>
        <value>
          <li>
            <weaponPart>scope</weaponPart>
          </li>
          <li>
            <weaponPart>magazine</weaponPart>
          </li>
          <li>
            <weaponPart>stock</weaponPart>
          </li>
        </value>
      </li>

      <li Class="PatchOperationAdd">
        <xpath>/Defs/ThingDef[defName="Gun_SniperRifle"]/comps/li[@Class="GunNut.GN_AttachmentCompProperties"]/slots</xpath>
        <value>
          <li>
            <weaponPart>scope</weaponPart>
          </li>
          <li>
            <weaponPart>magazine</weaponPart>
          </li>
          <li>
            <weaponPart>stock</weaponPart>
          </li>
        </value>
      </li>

      <li Class="PatchOperationAdd">
        <xpath>/Defs/ThingDef[defName="Gun_Minigun"]/comps/li[@Class="GunNut.GN_AttachmentCompProperties"]/slots</xpath>
        <value>
          <li>
            <weaponPart>scope</weaponPart>
          </li>
          <li>
            <weaponPart>magazine</weaponPart>
          </li>
          <li>
            <weaponPart>stock</weaponPart>
          </li>
        </value>
      </li>
    </operations>
  </Operation>-->

  <!--<Operation Class="PatchOperationAttributeSet">
    <xpath>/Defs/StatDef[defName="RangedWeapon_DamageMultiplier"]/parts/li</xpath>
    <attribute>Class</attribute>
    <value>GunNut.GN_StatPart_Quality</value>
  </Operation>-->

</Patch>
